(function(){angular.module("services.utils",["services.log"]).factory("utils",["$timeout","$rootScope","$location","log",function(a,b,c,d){var e,f,g;return e=!1,f=function(a){if(e)return d.info(a)},g={assignBtnHover:function(a){return null==a&&(a=$(document)),a.find(".js-hover").each(function(a,b){var c,d;return d=$(b),c=d,d.find(".js-hover-target").length>0&&(c=d.find(".js-hover-target").eq(0)),d.hover(function(){return c.addClass($(b).attr("data-hover"))},function(){return c.removeClass($(b).attr("data-hover"))})})},_lastScrollAnimateTo:-1,_scrollAnimateTo_promise:null,EVENT_SCROLL_ANIMATE_COMPLETE:"scrollAnimateTo-complete",scrollAnimateTo:function(b,c,d,e,h){var i;return null==c&&(c=500),null==d&&(d=0),null==e&&(e="swing"),null==h&&(h=function(){return $(document).trigger(g.EVENT_SCROLL_ANIMATE_COMPLETE)}),f("scrollAnimateTo "+b+" duration:"+c+" delay:"+d),i=function(){var a,i,j,k,l,m,n;if(n=$.type(b),j=b,"string"===n&&(j=null!=(k=$(b).offset())?k.top:void 0,f("offset 1:"+j),j-=parseInt($("html").css("padding-top"),10)),a!==j)return f("scrollTo "+j+" delay: "+d+" duration:"+c),l=!1,m=$("body, html"),g.isMobileBrowser()&&(m=$("body")),i=function(){return l||(f("complete body height:"+$("body").height()+" self.getScrollTop():"+g.getScrollTop()),l=!0,h()),m.clearQueue()},0===c?(m.scrollTop(j),i()):m.stop().delay(d).animate({scrollTop:j},c,e,i),a=j},g._scrollAnimateTo_promise&&a.cancel(g._scrollAnimateTo_promise),g._scrollAnimateTo_promise=a(i,1)},htmlHasClass:function(a){return $("html").hasClass(a)},isPhantomBrowser:function(){var a;return a=/phantom/i.test(navigator.userAgent)},isMobileBrowser:function(){var a;return a=/(iPod|iPhone|iPad|Android)/i.test(navigator.userAgent)},getScrollTop:function(){var a,b;return"undefined"==typeof pageYOffset||g.isMobileBrowser()?(a=document.body,b=document.documentElement,b=b.clientHeight?b:a,b.scrollTop):pageYOffset}}}])}).call(this),function(){angular.module("services.navigation",["services.utils"]).service("navigation",["$rootScope","utils","log","enums","$location","$timeout",function(a,b,c,d,e,f){var g,h,i,j;return j=function(){return i(),g(),h()},i=function(){var b,g,h,i;return b=$("body"),i=".navbar-top a",b.scrollspy({navSelector:i}),h=null,g=null,$(window).resize(function(){return b.scrollspy("refresh")}),a.$on("$routeChangeSuccess",function(a,c){return f.cancel(g),g=f(function(){return b.scrollspy("refresh")},500)}),b.on("activate",function(){return f.cancel(h),h=f(function(){var f,g,h;if(h=b.find(".navbar-top li.active").find("a").attr("href"),c.info("-> active section:"+h),void 0!==h&&0===h.indexOf("#")&&(h=h.split("#")[1]),g="/"+h,f=0===e.path().indexOf(g),c.info("isPathPartOfLocation:"+f),!f)return a.$broadcast(d.EventType.TrackPageview,g)},500)})},g=function(){return $(".navbar-top a").click(function(){return $(".navbar li").removeClass("active active-persist"),$(this).closest("li").addClass("active active-persist").blur()}),$(document).on(b.EVENT_SCROLL_ANIMATE_COMPLETE,function(){return $(".navbar-top li").removeClass("active-persist")})},h=function(){var a;if(Modernizr.cssanimations)return a=$(".flyout .navbar  a"),a.each(function(){return $(this).attr("data-anchor-scroll-delay","500")})},j()}])}.call(this),function(){angular.module("services.log",[]).factory("log",["$rootScope",function(a){var b,c;return c=log4javascript.getLogger("my_logger"),a.logger=c,b=new log4javascript.BrowserConsoleAppender,c.addAppender(b),c}])}.call(this),function(){angular.module("filters.accessor",[]).filter("getById",function(){return function(a,b){var c,d;for(c=0,d=a.length;c<d;){if(a[c].id===b)return a[c];c++}return null}})}.call(this),function(){angular.module("filters.sanitize",[]).filter("unsafeHtml",function(a){return function(b){return a.trustAsHtml(b)}})}.call(this),function(){angular.module("directives.utils",["services.utils"]).directive("utilHover",["utils","$log",function(a,b){return{restrict:"A",link:function(b,c,d){return c=$(c),c.addClass("js-hover").attr("data-hover",d.utilHover),a.assignBtnHover(c.parent())}}}]).directive("utilChangePath",["utils","$location","$log","$timeout","$route","enums","$rootScope",function(a,b,c,d,e,f,g){return{restrict:"A",link:function(a,h,i){return angular.element(h).on("click tap",function(a){var h,j,k,l,m;return a.preventDefault(),a.stopPropagation(),j=$(this).attr("data-anchor-scroll-delay"),k=null!=j?j:{dataAnchorDelay:0},d.cancel(h),l=b.path(),c.info("scroll to path:"+i.utilChangePath+" delay: "+k+" path:"+l),i.utilChangePath!==l?(c.info(" trigger path change"),h=d(function(){return b.path(i.utilChangePath)},k)):(c.info(" trigger fake route change for anchor scroll"),m=e.current,m.event=f.EventType.AnchorScroll,g.$broadcast("$routeChangeSuccess",e,e))})}}}])}.call(this),function(){angular.module("directives.youtubeEmbed",["app.enums"]).directive("youtubeEmbed",["$log","$timeout","$rootScope","enums",function(a,b,c,d){return{priority:0,template:"",replace:!1,transclude:!1,restrict:"A",scope:{videoData:"=youtubeEmbed"},compile:function(){return{pre:function(b){return b.hasStarted=!1,b.loadAPI=function(){var a,b;return b=document.createElement("script"),b.src="//www.youtube.com/iframe_api",a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a)},b.onAPIReady=function(){return b.player=new YT.Player("youtube-player",{width:"1920",height:"1080",videoId:b.videoData.id,playerVars:{enablejsapi:1,modestbranding:1,origin:document.domain,showinfo:0,theme:"light",rel:0,vq:"hd720"}}),b.player.addEventListener("onStateChange",function(e){if(b.hasStarted||e.data===YT.PlayerState.PLAYING&&(a.info("yt started"),c.$broadcast(d.EventType.VideoStart,b.videoData),b.hasStarted=!0),b.hasStarted&&e.data===YT.PlayerState.ENDED)return c.$broadcast(d.EventType.VideoEnd,b.videoData)}),b.player.addEventListener("onReady",function(){return c.$broadcast(d.EventType.VideoReady,b.videoData)})}},post:function(a){var b,c;return c=void 0!==window.YT&&void 0!==window.YT.Player,c?a.onAPIReady():(b=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=function(){return void 0!==b&&b(),a.onAPIReady(),delete window.onYouTubeIframeAPIReady},a.loadAPI())}}}}}]),angular.module("directives.videoJsEmbed",["app.enums"]).directive("videoJsEmbed",["$log","$timeout","$rootScope","enums",function(a,b,c,d){return{priority:0,template:"",replace:!1,transclude:!1,restrict:"A",scope:{videoData:"=videoJsEmbed",videoId:"=VideoJsId"},compile:function(){return{post:function(a,b){var e,f;if(a&&a.videoData)return a.videoData.mp4&&(e=a.videoData.mp4.toString(),Modernizr.video.h264&&a.videoData.mp4_low&&(e=a.videoData.mp4_low)),f=videojs(b.attr("id"),{controlBar:{volumeMenuButton:!1},fluid:!0,preload:"metadata"},function(){return f.poster(a.videoData.poster),f.src({type:"video/mp4",src:e}),f.addChild("BigPlayButton"),f.one("play",function(){return c.$broadcast(d.EventType.VideoStart,a.videoData)}),f.one("ended",function(){return c.$broadcast(d.EventType.VideoEnd,a.videoData)}),c.$broadcast(d.EventType.VideoReady,a.videoData)}),a.$on("$destroy",function(){return null!=f?f.dispose():void 0})}}}}}])}.call(this),function(){angular.module("directives.image",["services.log","services.utils"]).directive("imgCaption",["utils","log",function(a,b){return{restrict:"A",link:function(a,b,c){var d,e,f;if(b=angular.element(b),d=c.alt,e=c.class?c.class:"",b.wrap("<span class='img-caption "+e+"'></span>"),f=c.captionLink,void 0!==f&&(d='<a href="'+f+'" target="_blank">'+d+"</a>"),b.wrap("<span class='img-wrap-outer'><span class='img-wrap'></span></span>"),void 0!==d&&!c.hasOwnProperty("captionHide"))return b.parent().append("<span class='caption'>"+d+"</span>")}}}])}.call(this),function(){angular.module("directives.html",["services.log","services.utils"]).directive("angularBindHtml",["$compile","log",function(a,b){return{restrict:"A",link:function(b,c,d){return b.$watch(d.angularBindHtml,function(d,e){if(null!=d)return c.html(d),a(c.contents())(b)})}}}]).directive("a",["log",function(a){return{restrict:"E",link:function(a,b,c){var d;if((null!=(d=b.attr("href"))?d.indexOf("http"):void 0)>-1&&null==b.attr("target")&&b.attr("target","_blank"),b.hasClass("btn"))return b.bind("click",function(){return b.blur()}),a.$on("$destroy",function(){return b.unbind("click",function(){return b.blur()})})}}}])}.call(this),function(){!function(a,b,c){var d,e;if(a.OffcanvasNav=function(d){var e,f,g,h,i;return h={debug:!1,coverSelector:".flyout-cover",slideTargetSelector:".offcanvas-slide",toggleBtnSelector:".navbar-toggle",offcanvasNavSelector:"header.flyout",coverActiveClass:"active",widthBreakPoint:768,xMax:150,xMin:0,xMoveThresholdForClick:10,animationDuration:400,closeWhenInnerLinksClicked:!0},h=c.extend(h,d),i=new Date,e=function(a){var b,c;if(b=new Date,c=b-i,h.debug)return"undefined"!=typeof console&&null!==console?console.log("[offcanvas "+c+"] "+a):void 0},g={touchStartX:0,isTouchDown:!1,xCur:0,$cover:null,$toggleBtn:null,$slideTargets:null,isOpen:!1,hasDragged:!1,xCoverDragStart:0,offcanvasDelay_id:0,EVENT_OFFCANVASNAV_CLOSE:"offcanvasnav-close",EVENT_OFFCANVASNAV_TRANSITION_CLOSE_COMPLETE:"offcanvasnav-transition-close-complete",EVENT_OFFCANVASNAV_TRANSITION_OPEN_COMPLETE:"offcanvasnav-transition-open-complete",CLASS_OFFCANVAS_READY:"offcanvasnav-ready",init:function(){var a;return a=this,a.startup()},startup:function(){var a;return a=this,a.$cover=c(h.coverSelector),a.$slideTargets=c(h.slideTargetSelector),a.$offcanvasNav=c(h.offcanvasNavSelector),a.$toggleBtn=c(h.toggleBtnSelector),a.$toggleBtn.data("offcanvas_isToggleBtn",!0),a.handleWindowResize(),a.offcanvasActivate(!1),a.bindToggleBtn(!0),h.closeWhenInnerLinksClicked&&a.bindInnerLinkEvents(!0),c("html").addClass(a.CLASS_OFFCANVAS_READY)},close:function(){var a;if(a=this,e("close isOpen? _.isOpen:"+a.isOpen),a.isOpen)return a.coverOpenToggle(!1),a.coverActivate(!1)},open:function(){var a;if(a=this,e("open isOpen? _.isOpen:"+a.isOpen),!a.isOpen)return a.coverOpenToggle(!0),a.coverActivate(!0)},getIsOpen:function(){return this.isOpen},destroy:function(){var a,b;return a=this,a.close(),a.bindToggleBtn(!1),c("html").removeClass(a.CLASS_OFFCANVAS_READY),g=null,b=null},bindToggleBtn:function(a){var b;if(b=this,b.$toggleBtn.unbind("click",c.proxy(b.handleToggleBtnClick,b)),a)return b.$toggleBtn.bind("click",c.proxy(b.handleToggleBtnClick,b))},handleToggleBtnClick:function(a){var b;return b=this,e("handleToggleBtnClick "+b.isOpen),b.toggleOffCanvasNav(!b.isOpen)},toggleOffCanvasNav:function(a){var b;return b=this,b.isOpen&&!a?b.close():!b.isOpen&&a?b.open():void 0},offcanvasActivate:function(a){var b;return b=this,a?b.$offcanvasNav.css({visibility:"visible"}):b.$offcanvasNav.css({visibility:"hidden"}),b.bindToggleBtn(!a)},coverActivate:function(a){var b;return b=this,b.hasDragged=!1,a?(b.bindGeneralEvents(!0),b.bindEvents(b.$cover,!0),b.handleWindowResize(),b.$cover.addClass(h.coverActiveClass)):(b.bindEvents(b.$cover,!1),b.bindGeneralEvents(!1),b.$cover.removeClass(h.coverActiveClass))},coverOpenToggle:function(a,b,c){var d,f;return null==b&&(b=-1),null==c&&(c=0),e("coverOpenToggle "+a),d=this,f=a?h.xMax:h.xMin,b===-1&&(b=h.animationDuration),d.isOpen=a,a?(d.xCur=d.xCoverDragStart=h.xMax,d.offcanvasActivate(!0)):(d.xCur=d.xCoverDragStart=h.xMin,clearTimeout(d.offcanvasDelay_id),d.offcanvasDelay_id=setTimeout(function(){return d.offcanvasActivate(!1)},c+b+50),d.coverActivate(!1)),d.targetsTransition(f,b,c)},coverDeltaX:function(a){var b,c;return b=this,c=h.xMax+a,c<h.xMin?c=h.xMin:c>h.xMax&&(c=h.xMax),c},coverPlaceDeltaX:function(a){var b,c,d,e,f;return b=this,c=!1,d=b.xCoverDragStart+a,d<h.xMin?d=h.xMin:d>h.xMax&&(d=h.xMax),f="translate("+d+"px, 0)",c=b.xCur!==d,b.xCur=d,b.targetsTransition(d),e=d/(h.xMax-h.xMin),c},targetsTransition:function(a,b,d){var f,g,h,i,j,k;if(f=this,i=j=h="",void 0!==a){if(h="translate("+a+"px, 0)",void 0!==b&&(i="transform "+b+"ms ease",void 0!==d&&d>0&&(j=d+"ms")),e("targetsTrans x:"+a+" time:"+b+"delay:"+d+" transform:"+h+" transitionDelay:"+j+" transition:"+i),!Modernizr.cssanimations)return g={left:targetX+"px"},f.$slideTargets.css(g),f.handleTargetsTransitionEnd();if(d>0&&0===b&&(b=1),k="transitionend MSTransitionEnd webkitTransitionEnd oTransitionEnd",f.$slideTargets.eq(0).unbind(k,c.proxy(f.handleTargetsTransitionEnd,f)).bind(k,c.proxy(f.handleTargetsTransitionEnd,f)),f.$slideTargets.css({"-webkit-transform":h,"-ie-transform":h,transform:h,"-webkit-transition":"-webkit-"+i,"-ie-transition":"-webkit-"+i,transition:i,"-ie-transition-delay":j,"-webkit-transition-delay":j,"transition-delay":j}),0===b&&0===d)return f.handleTargetsTransitionEnd()}},handleTargetsTransitionEnd:function(a){var b;return b=this,e("handleTargetsTransitionEnd isOpen:"+b.isOpen+" _.xCur:"+b.xCur),b.isOpen&&b.xCur===h.xMax?(e('"handleTargetsTransitionEnd EVENT_OFFCANVASNAV_TRANSITION_OPEN_COMPLETE'),c(b).trigger(b.EVENT_OFFCANVASNAV_TRANSITION_OPEN_COMPLETE)):b.isOpen||b.xCur!==h.xMin?void 0:(e('"handleTargetsTransitionEnd EVENT_OFFCANVASNAV_TRANSITION_CLOSE_COMPLETE'),c(b).trigger(b.EVENT_OFFCANVASNAV_TRANSITION_CLOSE_COMPLETE))},bindGeneralEvents:function(d){var e;if(e=this,c(a).unbind("resize",c.proxy(e.handleWindowResize,e)).unbind("orientationchange",c.proxy(e.handleOrientationChange,e)).unbind("touchmove mousemove",c.proxy(e.handleCoverTouchMove,e)).unbind("touchend mouseup",c.proxy(e.handleCoverTouchUp,e)),c(b).unbind("touchmove",c.proxy(e.handleEventPrevent,e)),d)return c(a).bind("resize",c.proxy(e.handleWindowResize,e)).bind("orientationchange",c.proxy(e.handleOrientationChange,e)).bind("touchmove mousemove",c.proxy(e.handleCoverTouchMove,e)).bind("touchend mouseup",c.proxy(e.handleCoverTouchUp,e)),c(b).bind("touchmove",c.proxy(e.handleEventPrevent,e))},bindEvents:function(a,b){var d;if(d=this,a.unbind("touchstart mousedown",c.proxy(d.handleCoverTouchDown,d)).unbind("touchmove mousemove",c.proxy(d.handleCoverTouchMove,d)).unbind("touchend mouseup",c.proxy(d.handleCoverTouchUp,d)).unbind("click",c.proxy(d.handleCoverTouchUp,d)),b)return a.bind("touchstart mousedown",c.proxy(d.handleCoverTouchDown,d)).bind("touchcancel",c.proxy(d.handleCoverTouchCancel,d)).bind("touchend mouseup",c.proxy(d.handleCoverTouchUp,d)).bind("click",c.proxy(d.handleCoverTouchUp,d))},bindInnerLinkEvents:function(a){var b,d;if(d=this,b=d.$offcanvasNav.find("a"),b.unbind("click tap",c.proxy(d.handleInnerLinkClick,d)),a)return b.bind("click tap",c.proxy(d.handleInnerLinkClick,d))},handleCoverClick:function(a){return a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),e("click")},handleCoverTouchDown:function(a){var b;return b=this,a.preventDefault(),b.hasDragged=!1,b.isTouchDown=!0,b.touchStartX=b.getTouchX(a),b.touchLastX=b.touchStartX,b.isOpen||(b.coverActivate(!0),b.handleCoverTouchMove(a)),e("touch start "+b.touchStartX+" toggleBtn? "+c(a.target).data("offcanvas_isToggleBtn"))},handleCoverTouchMove:function(a){var b,c,d,e;if(b=this,a.preventDefault(),b.isTouchDown)return e=b.getTouchX(a),b.touchLastX=e,c=e-b.touchStartX,d=c,b.hasDragged=b.coverPlaceDeltaX(c)},handleCoverTouchUp:function(a){var b,c,d,f,g;if(b=this,e("!!cover touch end _.isTouchDown:"+b.isTouchDown+" _.xCoverDragStart:"+b.xCoverDragStart+" isOpen:"+b.isOpen+" hasDragged:"+b.hasDragged+" xcur:"+b.xCur+" e.type:"+a.type),"click"===a.type&&(b.isTouchDown=!0,b.touchStartX=b.touchLastX=b.getTouchX(a)),b.isTouchDown){if(b.isTouchDown=!1,g=b.touchLastX,f=Math.abs(g-b.touchStartX),e("touchDeltaX:"+f+" _touchStartX:"+b.touchStartX+" touchX:"+g),!(b.xCur>=h.xMax))return d=.75*(h.xMax+h.xMin),c=b.xCur<=d,e("midX:"+d+" xCur:"+b.xCur+"touchDeltaX:"+f+" xMax"+h.xMax+" bolDoOpen: bolDoClose:"+c+" isOpen:"+b.isOpen+" _.xCoverDragStart:"+b.xCoverDragStart),c?(e("handleCoverTouchUp going for closed"),b.coverOpenToggle(!1)):(e("handleCoverTouchUpgoing for open"),b.coverOpenToggle(!0));if(f<h.xMoveThresholdForClick||isNaN(f))return e("handleCoverTouchUp going for closed from full open"),b.coverOpenToggle(!1)}},handleCoverTouchCancel:function(){var a;return a=this,e("handleCoverTouchCancel"),a.isTouchDown=!1},handleEventPrevent:function(a){return a.preventDefault()},handleOrientationChange:function(a){var b;return b=this,b.close()},handleWindowResize:function(){var a,d;if(d=this,a=c(b),d.$cover.width(a.width()).height(a.height()),c("header.flyout .nav").height(a.height()+100),e("handleWindowResize _.isOpen:"+d.isOpen+" doc.width:"+a.width()+" breakpoint:"+h.widthBreakPoint),d.isOpen&&a.width()>=h.widthBreakPoint)return e("handleWindowResize gong for closed"),d.coverOpenToggle(!1)},setWidthBreakPoint:function(a){var b;return b=this,h.widthBreakPoint=a,b.handleWindowResize()},getWidthBreakPoint:function(){return h.widthBreakPoint},bindAPIEvent:function(a,b){var d;return d=this,c(d).bind(a,b)},unbindAPIEvent:function(a,b){var d;return d=this,c(d).unbind(a,b)},handleInnerLinkClick:function(a){var b;return b=this,b.close()},getTouchX:function(a){var b,c,d;if(b=a,a.originalEvent&&(b=a.originalEvent),d=b.pageX,Modernizr.touch)try{d=b.touches[0].pageX}catch(a){c=a,d=b.pageX}return d}},g.init(),f={settings:g.settings,open:c.proxy(g.open,g),close:c.proxy(g.close,g),destroy:c.proxy(g.destroy,g),getIsOpen:c.proxy(g.getIsOpen,g),setWidthBreakPoint:c.proxy(g.setWidthBreakPoint,g),getWidthBreakPoint:c.proxy(g.getWidthBreakPoint,g),bind:c.proxy(g.bindAPIEvent,g),unbind:c.proxy(g.unbindAPIEvent,g),EVENT_OFFCANVASNAV_TRANSITION_CLOSE_COMPLETE:g.EVENT_OFFCANVASNAV_TRANSITION_CLOSE_COMPLETE,EVENT_OFFCANVASNAV_TRANSITION_OPEN_COMPLETE:g.EVENT_OFFCANVASNAV_TRANSITION_OPEN_COMPLETE}},d=c("html body"),void 0!==d.attr("data-offcanvas-nav"))return e={},void 0!==d.attr("data-offcanvas-nav-xMax")&&(e.xMax=parseInt(d.attr("data-offcanvas-nav-xMax"),10)),a.offcanvasNav=new a.OffcanvasNav(e)}(window,document,$)}.call(this),function(){window.appData&&"undefined"!=typeof console&&null!==console&&console.log("[APP] build:"+window.appData.build),window.app=angular.module("app",["ngSanitize","services.utils","services.log","directives.utils","directives.image","directives.html","services.navigation","app.enums","app.work","ngRoute","angularMoment"]),app.value("$anchorScroll",angular.noop),app.config(["$routeProvider","$locationProvider","$interpolateProvider","enums",function(a,b,c,d){return c.startSymbol("{[").endSymbol("]}"),window.location.hash.indexOf("#")>-1&&window.location.hash.indexOf("#!")<=-1&&(window.location.hash=window.location.hash.replace("#","#!")),a.when("/work/:project",{event:d.EventType.WorkLoad}).when("/about",{event:d.EventType.AnchorScroll}).when("/contact",{event:d.EventType.AnchorScroll}).when("/work",{event:d.EventType.AnchorScroll}).otherwise({redirectTo:"/"}),b.html5Mode(!1).hashPrefix("!")}]),app.run(["utils","enums","$rootScope","$location","$routeParams","$route","log","$timeout","navigation",function(a,b,c,d,e,f,g,h,i){var j,k;return angular.isDefined(c.logger)&&angular.isDefined(log4javascript)&&angular.isDefined(window)&&angular.isDefined(window.__karma__)&&c.logger.setLevel(log4javascript.Level.WARN),c.utils=a,j=null,k="",c.$on("$routeChangeSuccess",function(e,i){var l,m,n,o;return g.info("$routeChangeSuccess $currentRoute: "+e+" $location.path:"+d.path()+" lastRoutePath:"+k),n=d.path(),l=null!=(o=f.current)?o.event:void 0,"/"===n&&(l=b.EventType.AnchorScroll,n="/home",""===k&&(l=void 0)),l===b.EventType.AnchorScroll&&(g.info("scrolling for path: "+n),n&&(m=n.substr(1,n.length-1),m=m.split("/")[0],g.info("id "+m+" path:"+n),h.cancel(j),j=h(function(){return a.scrollAnimateTo("#"+m)},1))),c.$broadcast(b.EventType.TrackPageview,n)}),c.$on(b.EventType.TrackPageview,function(a,b){if(k!==b)return null!=window.ga&&window.ga("send","pageview",b),k=b}),c.$on(b.EventType.TrackEvent,function(a,b,c,d,e){if(g.info("caught track event category:"+b+" action:"+c+" label:"+d+" value:"+e),null!=window.ga)return window.ga("send","event",b,c,d,e)})}])}.call(this),function(){angular.module("app.enums",[]).constant("enums",{EventType:{WorkLoad:"work.load",AnchorScroll:"anchor.scroll",VideoReady:"video.ready",VideoStart:"video.start",VideoEnd:"video.end",TrackPageview:"track.pageview",TrackEvent:"track.event"}})}.call(this),function(){angular.module("app.work",["app","app.enums","services.utils","services.log","filters.accessor","filters.sanitize","directives.videoJsEmbed","directives.youtubeEmbed"]).controller("WorkCtrl",["$scope","$document","$http","log","$route","enums","utils","$timeout","$location","$filter","$rootScope",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;return d.info("work controller init."),s=new Showdown.converter,z=appData.icons.tech,A=appData.work.projects,r=appData.humans,angular.extend(a,{STATE_DETAIL:"detail",STATE_IDLE:"idle",state:"idle",workCur:void 0,curPath:""}),y=function(){return l(),x(),b.bind("keydown",t),a.unbindVideoStart=k.$on(f.EventType.VideoStart,w),a.unbindVideoEnd=k.$on(f.EventType.VideoEnd,v),a.unbindRouteChangeSuccess=a.$on("$routeChangeSuccess",u)},a.$on("$destroy",function(){return b.unbind("keydown",t),"function"==typeof a.unbindVideoStart&&a.unbindVideoStart(),"function"==typeof a.unbindVideoEnd&&a.unbindVideoEnd(),"function"==typeof a.unbindRouteChangeSuccess?a.unbindRouteChangeSuccess():void 0}),l=function(){var a;return a=0,angular.forEach(A,function(b,c){var d;return b._index=a,a++,d=b.desc,$.isArray(d)&&(d=d.join("\n")),void 0!==d&&(d=s.makeHtml(d)),b.desc=d})},u=function(b,c){var g;if(a.curPath!==i.path())return a.curPath=i.path(),a.state=a.STATE_IDLE,(null!=(g=e.current)?g.event:void 0)===f.EventType.WorkLoad&&(a.state=a.STATE_DETAIL),d.info("work state:"+a.state),x()},x=function(){var b,c,f,h;if(a.workCur=void 0,d.info("render "+(null!=(b=e.current)&&null!=(c=b.params)?c.project:void 0)),null!=(f=e.current)&&null!=(h=f.params)?h.project:void 0)return a.workCur=n(e.current.params.project),d.info("$scope.projectCur: "+a.workCur+" "+e.current.params.project+" "+e.current.params.project),g.scrollAnimateTo("#work")},n=function(a){var b;return d.info("getProject"+a),b={},b=j("getById")(A,a),b.teamProcessedArr=p(b),b.techProcessedArr=q(b),b.descProcessed=m(b),b},p=function(a){var b;return b=[],angular.forEach(a.teamArr,function(a){return function(a,c){var d,e;return e=a[0],d=a[1],angular.forEach(e,function(a,b){var c;if(c=j("getById")(r.roles,a))return e[b]=c.name}),angular.forEach(d,function(a,b){var c;if(c=j("getById")(r.humans,a))return c.url?d[b]="<a href='"+c.url+"' target='_blank'>"+c.name+"</a>":d[b]=c.name}),b.push({role:e.join(", "),humans:d.join(", ")})}}(this)),b},q=function(a){var b;return b=[],angular.forEach(a.techArr,function(a){return function(a,c){var d;if(d=j("getById")(z,a))return b.push(d)}}(this)),b},m=function(a){var b,c;return c=a.desc,$.isArray(c)&&(c=c.join("\n")),void 0!==c&&(c=s.makeHtml(c),b=$(c)),c},a.projectIncrement=function(b){var c,d;return null==b&&(b=1),c="",void 0===a.workCur?c=o(A[0].id):(d=a.workCur._index+b,d>=A.length?d-=A.length:d<0&&(d+=A.length),c=o(A[d].id)),i.path(c)},t=function(b){if(a.state!==a.STATE_DETAIL)return!0;switch(b.keyCode){case 37:a.projectIncrement(-1),a.$apply();break;case 39:a.projectIncrement(1),a.$apply()}return!0},w=function(b,c){var e;if(d.info("VideoStart caught"+c.id),e=c.id,c.id=a.workCur.id)return g.scrollAnimateTo("#work"),k.$broadcast(f.EventType.TrackEvent,"video","start",a.workCur.id+" : "+e)},v=function(b,c){var d;return d=c.id,k.$broadcast(f.EventType.TrackEvent,"video","end",a.workCur.id+" : "+d)},o=function(a){return"/work/"+a},y()}])}.call(this);