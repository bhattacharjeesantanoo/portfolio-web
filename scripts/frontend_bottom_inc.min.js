(function(){angular.module("services.utils",["services.log"]).factory("utils",["$timeout","$rootScope","$location","log",function(a,b,c,d){var e,f,g;return e=!1,f=function(a){return e?d.info(a):void 0},g={assignBtnHover:function(a){return null==a&&(a=$(document)),a.find(".js-hover").each(function(a,b){var c,d;return d=$(b),c=d,d.find(".js-hover-target").length>0&&(c=d.find(".js-hover-target").eq(0)),d.hover(function(){return c.addClass($(b).attr("data-hover"))},function(){return c.removeClass($(b).attr("data-hover"))})})},_lastScrollAnimateTo:-1,_scrollAnimateTo_promise:null,EVENT_SCROLL_ANIMATE_COMPLETE:"scrollAnimateTo-complete",scrollAnimateTo:function(b,c,d,e,h){var i;return null==c&&(c=500),null==d&&(d=0),null==e&&(e="swing"),null==h&&(h=function(){return $(document).trigger(g.EVENT_SCROLL_ANIMATE_COMPLETE)}),f("scrollAnimateTo "+b+" duration:"+c+" delay:"+d),i=function(){var a,i,j,k,l,m,n;return l=$.type(b),i=b,"string"===l&&(i=null!=(n=$(b).offset())?n.top:void 0,f("offset 1:"+i),i-=parseInt($("html").css("padding-top"),10)),m!==i?(f("scrollTo "+i+" delay: "+d+" duration:"+c),j=!1,k=$("body, html"),g.isMobileBrowser()&&(k=$("body")),a=function(){return j||(f("complete body height:"+$("body").height()+" self.getScrollTop():"+g.getScrollTop()),j=!0,h()),k.clearQueue()},0===c?(k.scrollTop(i),a()):k.stop().delay(d).animate({scrollTop:i},c,e,a),m=i):void 0},g._scrollAnimateTo_promise&&a.cancel(g._scrollAnimateTo_promise),g._scrollAnimateTo_promise=a(i,1)},htmlHasClass:function(a){return $("html").hasClass(a)},isPhantomBrowser:function(){var a;return a=/phantom/i.test(navigator.userAgent)},isMobileBrowser:function(){var a;return a=/(iPod|iPhone|iPad|Android)/i.test(navigator.userAgent)},getScrollTop:function(){var a,b;return"undefined"==typeof pageYOffset||g.isMobileBrowser()?(a=document.body,b=document.documentElement,b=b.clientHeight?b:a,b.scrollTop):pageYOffset}}}])}).call(this),function(){angular.module("services.navigation",["services.utils"]).service("navigation",["$rootScope","utils","log","enums","$location","$timeout",function(a,b,c,d,e,f){var g,h,i,j;return j=function(){return i(),g(),h()},i=function(){var b,g,h,i;return b=$("body"),i=".navbar-top a",b.scrollspy({navSelector:i}),h=null,g=null,$(window).resize(function(){return b.scrollspy("refresh")}),a.$on("$routeChangeSuccess",function(){return f.cancel(g),g=f(function(){return b.scrollspy("refresh")},500)}),b.on("activate",function(){return f.cancel(h),h=f(function(){var f,g,h;return h=b.find(".navbar-top li.active").find("a").attr("href"),c.info("-> active section:"+h),void 0!==h&&0===h.indexOf("#")&&(h=h.split("#")[1]),g="/"+h,f=0===e.path().indexOf(g),c.info("isPathPartOfLocation:"+f),f?void 0:a.$broadcast(d.EventType.TrackPageview,g)},500)})},g=function(){return $(".navbar-top a").click(function(){return $(".navbar li").removeClass("active active-persist"),$(this).closest("li").addClass("active active-persist").blur()}),$(document).on(b.EVENT_SCROLL_ANIMATE_COMPLETE,function(){return $(".navbar-top li").removeClass("active-persist")})},h=function(){var a;return Modernizr.cssanimations?(a=$(".flyout .navbar  a"),a.each(function(){return $(this).attr("data-anchor-scroll-delay","500")})):void 0},j()}])}.call(this),function(){angular.module("services.log",[]).factory("log",["$rootScope",function(a){var b,c;return c=log4javascript.getLogger("my_logger"),a.logger=c,b=new log4javascript.BrowserConsoleAppender,c.addAppender(b),c}])}.call(this),function(){angular.module("filters.accessor",[]).filter("getById",function(){return function(a,b){var c,d;for(c=0,d=a.length;d>c;){if(a[c].id===b)return a[c];c++}return null}})}.call(this),function(){angular.module("filters.sanitize",[]).filter("unsafeHtml",function(a){return function(b){return a.trustAsHtml(b)}})}.call(this),function(){angular.module("directives.utils",["services.utils"]).directive("utilHover",["utils","$log",function(a){return{restrict:"A",link:function(b,c,d){return c=$(c),c.addClass("js-hover").attr("data-hover",d.utilHover),a.assignBtnHover(c.parent())}}}]).directive("utilChangePath",["utils","$location","$log","$timeout","$route","enums","$rootScope",function(a,b,c,d,e,f,g){return{restrict:"A",link:function(a,h,i){return angular.element(h).on("click tap",function(a){var h,j,k,l,m;return a.preventDefault(),a.stopPropagation(),j=$(this).attr("data-anchor-scroll-delay"),k=null!=j?j:{dataAnchorDelay:0},d.cancel(h),l=b.path(),c.info("scroll to path:"+i.utilChangePath+" delay: "+k+" path:"+l),i.utilChangePath!==l?(c.info(" trigger path change"),h=d(function(){return b.path(i.utilChangePath)},k)):(c.info(" trigger fake route change for anchor scroll"),m=e.current,m.event=f.EventType.AnchorScroll,g.$broadcast("$routeChangeSuccess",e,e))})}}}])}.call(this),function(){angular.module("directives.youtubeEmbed",["app.enums"]).directive("youtubeEmbed",["$log","$timeout","$rootScope","enums",function(a,b,c,d){return{priority:0,template:"",replace:!1,transclude:!1,restrict:"A",scope:{videoData:"=youtubeEmbed"},compile:function(){return{pre:function(b){return b.hasStarted=!1,b.loadAPI=function(){var a,b;return b=document.createElement("script"),b.src="//www.youtube.com/iframe_api",a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a)},b.onAPIReady=function(){return b.player=new YT.Player("youtube-player",{width:"1920",height:"1080",videoId:b.videoData.id,playerVars:{enablejsapi:1,modestbranding:1,origin:document.domain,showinfo:0,theme:"light",rel:0,vq:"hd720"}}),b.player.addEventListener("onStateChange",function(e){return b.hasStarted||e.data===YT.PlayerState.PLAYING&&(a.info("yt started"),c.$broadcast(d.EventType.VideoStart,b.videoData),b.hasStarted=!0),b.hasStarted&&e.data===YT.PlayerState.ENDED?c.$broadcast(d.EventType.VideoEnd,b.videoData):void 0})}},post:function(a){var b,c;return b=void 0!==window.YT&&void 0!==window.YT.Player,b?a.onAPIReady():(c=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=function(){return void 0!==c&&c(),a.onAPIReady(),delete window.onYouTubeIframeAPIReady},a.loadAPI())}}}}}]),angular.module("directives.videoJsEmbed",["app.enums"]).directive("videoJsEmbed",["$log","$timeout","$rootScope","enums",function(a,b,c,d){return{priority:0,template:"",replace:!1,transclude:!1,restrict:"A",scope:{videoData:"=videoJsEmbed",videoId:"=VideoJsId"},compile:function(){return{post:function(a,b){var e,f;return a&&a.videoData?(a.videoData.mp4&&(e=a.videoData.mp4.toString(),Modernizr.video.h264&&a.videoData.mp4_low&&(e=a.videoData.mp4_low)),f=videojs(b.attr("id"),{},function(){return f.poster(a.videoData.poster),f.src({type:"video/mp4",src:e},{type:"video/webm",src:a.videoData.webm}),f.addChild("BigPlayButton"),f.one("play",function(){return c.$broadcast(d.EventType.VideoStart,a.videoData)}),f.one("ended",function(){return c.$broadcast(d.EventType.VideoEnd,a.videoData)})}),a.$on("$destroy",function(){return null!=f?f.dispose():void 0})):void 0}}}}}])}.call(this),function(){angular.module("directives.image",["services.log","services.utils"]).directive("imgCaption",["utils","log",function(){return{restrict:"A",link:function(a,b,c){var d,e,f;return b=angular.element(b),d=c.alt,e=c["class"]?c["class"]:"",b.wrap("<span class='img-caption "+e+"'></span>"),f=c.captionLink,void 0!==f&&(d='<a href="'+f+'" target="_blank">'+d+"</a>"),b.wrap("<span class='img-wrap-outer'><span class='img-wrap'></span></span>"),void 0===d||c.hasOwnProperty("captionHide")?void 0:b.parent().append("<span class='caption'>"+d+"</span>")}}}])}.call(this),function(){angular.module("directives.html",["services.log","services.utils"]).directive("angularBindHtml",["$compile","log",function(a){return{restrict:"A",link:function(b,c,d){return b.$watch(d.angularBindHtml,function(d){return d?(c.html(d),a(c.contents())(b)):void 0})}}}]).directive("a",["log",function(){return{restrict:"E",link:function(a,b){var c;return(null!=(c=b.attr("href"))?c.indexOf("http"):void 0)>-1&&void 0===b.attr("target")?b.attr("target","_blank"):void 0}}}])}.call(this),function(){!function(a,b,c){var d,e;return a.OffcanvasNav=function(d){var e,f,g,h,i;return h={debug:!1,coverSelector:".flyout-cover",slideTargetSelector:".offcanvas-slide",toggleBtnSelector:".navbar-toggle",offcanvasNavSelector:"header.flyout",coverActiveClass:"active",widthBreakPoint:768,xMax:150,xMin:0,xMoveThresholdForClick:10,animationDuration:400,closeWhenInnerLinksClicked:!0},h=c.extend(h,d),i=new Date,e=function(a){var b,c;return b=new Date,c=b-i,h.debug?"undefined"!=typeof console&&null!==console?console.log("[offcanvas "+c+"] "+a):void 0:void 0},g={touchStartX:0,isTouchDown:!1,xCur:0,$cover:null,$toggleBtn:null,$slideTargets:null,isOpen:!1,hasDragged:!1,xCoverDragStart:0,offcanvasDelay_id:0,EVENT_OFFCANVASNAV_CLOSE:"offcanvasnav-close",EVENT_OFFCANVASNAV_TRANSITION_CLOSE_COMPLETE:"offcanvasnav-transition-close-complete",EVENT_OFFCANVASNAV_TRANSITION_OPEN_COMPLETE:"offcanvasnav-transition-open-complete",CLASS_OFFCANVAS_READY:"offcanvasnav-ready",init:function(){var a;return a=this,a.startup()},startup:function(){var a;return a=this,a.$cover=c(h.coverSelector),a.$slideTargets=c(h.slideTargetSelector),a.$offcanvasNav=c(h.offcanvasNavSelector),a.$toggleBtn=c(h.toggleBtnSelector),a.$toggleBtn.data("offcanvas_isToggleBtn",!0),a.handleWindowResize(),a.offcanvasActivate(!1),a.bindToggleBtn(!0),h.closeWhenInnerLinksClicked&&a.bindInnerLinkEvents(!0),c("html").addClass(a.CLASS_OFFCANVAS_READY)},close:function(){var a;return a=this,e("close isOpen? _.isOpen:"+a.isOpen),a.isOpen?(a.coverOpenToggle(!1),a.coverActivate(!1)):void 0},open:function(){var a;return a=this,e("open isOpen? _.isOpen:"+a.isOpen),a.isOpen?void 0:(a.coverOpenToggle(!0),a.coverActivate(!0))},getIsOpen:function(){return this.isOpen},destroy:function(){var a,b;return b=this,b.close(),b.bindToggleBtn(!1),c("html").removeClass(b.CLASS_OFFCANVAS_READY),g=null,a=null},bindToggleBtn:function(a){var b;return b=this,b.$toggleBtn.unbind("click",c.proxy(b.handleToggleBtnClick,b)),a?b.$toggleBtn.bind("click",c.proxy(b.handleToggleBtnClick,b)):void 0},handleToggleBtnClick:function(){var a;return a=this,e("handleToggleBtnClick "+a.isOpen),a.toggleOffCanvasNav(!a.isOpen)},toggleOffCanvasNav:function(a){var b;return b=this,b.isOpen&&!a?b.close():!b.isOpen&&a?b.open():void 0},offcanvasActivate:function(a){var b;return b=this,a?b.$offcanvasNav.css({visibility:"visible"}):b.$offcanvasNav.css({visibility:"hidden"}),b.bindToggleBtn(!a)},coverActivate:function(a){var b;return b=this,b.hasDragged=!1,a?(b.bindGeneralEvents(!0),b.bindEvents(b.$cover,!0),b.handleWindowResize(),b.$cover.addClass(h.coverActiveClass)):(b.bindEvents(b.$cover,!1),b.bindGeneralEvents(!1),b.$cover.removeClass(h.coverActiveClass))},coverOpenToggle:function(a,b,c){var d,f;return null==b&&(b=-1),null==c&&(c=0),e("coverOpenToggle "+a),f=this,d=a?h.xMax:h.xMin,-1===b&&(b=h.animationDuration),f.isOpen=a,a?(f.xCur=f.xCoverDragStart=h.xMax,f.offcanvasActivate(!0)):(f.xCur=f.xCoverDragStart=h.xMin,clearTimeout(f.offcanvasDelay_id),f.offcanvasDelay_id=setTimeout(function(){return f.offcanvasActivate(!1)},c+b+50),f.coverActivate(!1)),f.targetsTransition(d,b,c)},coverDeltaX:function(a){var b,c;return c=this,b=h.xMax+a,b<h.xMin?b=h.xMin:b>h.xMax&&(b=h.xMax),b},coverPlaceDeltaX:function(a){var b,c,d,e,f;return f=this,b=!1,c=f.xCoverDragStart+a,c<h.xMin?c=h.xMin:c>h.xMax&&(c=h.xMax),e="translate("+c+"px, 0)",b=f.xCur!==c,f.xCur=c,f.targetsTransition(c),d=c/(h.xMax-h.xMin),b},targetsTransition:function(a,b,d){var f,g,h,i,j,k;if(k=this,h=i=g="",void 0!==a){if(g="translate("+a+"px, 0)",void 0!==b&&(h="transform "+b+"ms ease",void 0!==d&&d>0&&(i=d+"ms")),e("targetsTrans x:"+a+" time:"+b+"delay:"+d+" transform:"+g+" transitionDelay:"+i+" transition:"+h),!Modernizr.cssanimations)return f={left:targetX+"px"},k.$slideTargets.css(f),k.handleTargetsTransitionEnd();if(d>0&&0===b&&(b=1),j="transitionend MSTransitionEnd webkitTransitionEnd oTransitionEnd",k.$slideTargets.eq(0).unbind(j,c.proxy(k.handleTargetsTransitionEnd,k)).bind(j,c.proxy(k.handleTargetsTransitionEnd,k)),k.$slideTargets.css({"-webkit-transform":g,"-ie-transform":g,transform:g,"-webkit-transition":"-webkit-"+h,"-ie-transition":"-webkit-"+h,transition:h,"-ie-transition-delay":i,"-webkit-transition-delay":i,"transition-delay":i}),0===b&&0===d)return k.handleTargetsTransitionEnd()}},handleTargetsTransitionEnd:function(){var a;return a=this,e("handleTargetsTransitionEnd isOpen:"+a.isOpen+" _.xCur:"+a.xCur),a.isOpen&&a.xCur===h.xMax?(e('"handleTargetsTransitionEnd EVENT_OFFCANVASNAV_TRANSITION_OPEN_COMPLETE'),c(a).trigger(a.EVENT_OFFCANVASNAV_TRANSITION_OPEN_COMPLETE)):a.isOpen||a.xCur!==h.xMin?void 0:(e('"handleTargetsTransitionEnd EVENT_OFFCANVASNAV_TRANSITION_CLOSE_COMPLETE'),c(a).trigger(a.EVENT_OFFCANVASNAV_TRANSITION_CLOSE_COMPLETE))},bindGeneralEvents:function(d){var e;return e=this,c(a).unbind("resize",c.proxy(e.handleWindowResize,e)).unbind("orientationchange",c.proxy(e.handleOrientationChange,e)).unbind("touchmove mousemove",c.proxy(e.handleCoverTouchMove,e)).unbind("touchend mouseup",c.proxy(e.handleCoverTouchUp,e)),c(b).unbind("touchmove",c.proxy(e.handleEventPrevent,e)),d?(c(a).bind("resize",c.proxy(e.handleWindowResize,e)).bind("orientationchange",c.proxy(e.handleOrientationChange,e)).bind("touchmove mousemove",c.proxy(e.handleCoverTouchMove,e)).bind("touchend mouseup",c.proxy(e.handleCoverTouchUp,e)),c(b).bind("touchmove",c.proxy(e.handleEventPrevent,e))):void 0},bindEvents:function(a,b){var d;return d=this,a.unbind("touchstart mousedown",c.proxy(d.handleCoverTouchDown,d)).unbind("touchmove mousemove",c.proxy(d.handleCoverTouchMove,d)).unbind("touchend mouseup",c.proxy(d.handleCoverTouchUp,d)).unbind("click",c.proxy(d.handleCoverTouchUp,d)),b?a.bind("touchstart mousedown",c.proxy(d.handleCoverTouchDown,d)).bind("touchcancel",c.proxy(d.handleCoverTouchCancel,d)).bind("touchend mouseup",c.proxy(d.handleCoverTouchUp,d)).bind("click",c.proxy(d.handleCoverTouchUp,d)):void 0},bindInnerLinkEvents:function(a){var b,d;return d=this,b=d.$offcanvasNav.find("a"),b.unbind("click tap",c.proxy(d.handleInnerLinkClick,d)),a?b.bind("click tap",c.proxy(d.handleInnerLinkClick,d)):void 0},handleCoverClick:function(a){return a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),e("click")},handleCoverTouchDown:function(a){var b;return b=this,a.preventDefault(),b.hasDragged=!1,b.isTouchDown=!0,b.touchStartX=b.getTouchX(a),b.touchLastX=b.touchStartX,b.isOpen||(b.coverActivate(!0),b.handleCoverTouchMove(a)),e("touch start "+b.touchStartX+" toggleBtn? "+c(a.target).data("offcanvas_isToggleBtn"))},handleCoverTouchMove:function(a){var b,c,d,e;return e=this,a.preventDefault(),e.isTouchDown?(d=e.getTouchX(a),e.touchLastX=d,b=d-e.touchStartX,c=b,e.hasDragged=e.coverPlaceDeltaX(b)):void 0},handleCoverTouchUp:function(a){var b,c,d,f,g;if(g=this,e("!!cover touch end _.isTouchDown:"+g.isTouchDown+" _.xCoverDragStart:"+g.xCoverDragStart+" isOpen:"+g.isOpen+" hasDragged:"+g.hasDragged+" xcur:"+g.xCur+" e.type:"+a.type),"click"===a.type&&(g.isTouchDown=!0,g.touchStartX=g.touchLastX=g.getTouchX(a)),g.isTouchDown){if(g.isTouchDown=!1,f=g.touchLastX,d=Math.abs(f-g.touchStartX),e("touchDeltaX:"+d+" _touchStartX:"+g.touchStartX+" touchX:"+f),!(g.xCur>=h.xMax))return c=.75*(h.xMax+h.xMin),b=g.xCur<=c,e("midX:"+c+" xCur:"+g.xCur+"touchDeltaX:"+d+" xMax"+h.xMax+" bolDoOpen: bolDoClose:"+b+" isOpen:"+g.isOpen+" _.xCoverDragStart:"+g.xCoverDragStart),b?(e("handleCoverTouchUp going for closed"),g.coverOpenToggle(!1)):(e("handleCoverTouchUpgoing for open"),g.coverOpenToggle(!0));if(d<h.xMoveThresholdForClick||isNaN(d))return e("handleCoverTouchUp going for closed from full open"),g.coverOpenToggle(!1)}},handleCoverTouchCancel:function(){var a;return a=this,e("handleCoverTouchCancel"),a.isTouchDown=!1},handleEventPrevent:function(a){return a.preventDefault()},handleOrientationChange:function(){var a;return a=this,a.close()},handleWindowResize:function(){var a,d;return d=this,a=c(b),d.$cover.width(a.width()).height(a.height()),c("header.flyout .nav").height(a.height()+100),e("handleWindowResize _.isOpen:"+d.isOpen+" doc.width:"+a.width()+" breakpoint:"+h.widthBreakPoint),d.isOpen&&a.width()>=h.widthBreakPoint?(e("handleWindowResize gong for closed"),d.coverOpenToggle(!1)):void 0},setWidthBreakPoint:function(a){var b;return b=this,h.widthBreakPoint=a,b.handleWindowResize()},getWidthBreakPoint:function(){return h.widthBreakPoint},bindAPIEvent:function(a,b){var d;return d=this,c(d).bind(a,b)},unbindAPIEvent:function(a,b){var d;return d=this,c(d).unbind(a,b)},handleInnerLinkClick:function(){var a;return a=this,a.close()},getTouchX:function(a){var b,c,d;if(b=a,a.originalEvent&&(b=a.originalEvent),d=b.pageX,Modernizr.touch)try{d=b.touches[0].pageX}catch(e){c=e,d=b.pageX}return d}},g.init(),f={settings:g.settings,open:c.proxy(g.open,g),close:c.proxy(g.close,g),destroy:c.proxy(g.destroy,g),getIsOpen:c.proxy(g.getIsOpen,g),setWidthBreakPoint:c.proxy(g.setWidthBreakPoint,g),getWidthBreakPoint:c.proxy(g.getWidthBreakPoint,g),bind:c.proxy(g.bindAPIEvent,g),unbind:c.proxy(g.unbindAPIEvent,g),EVENT_OFFCANVASNAV_TRANSITION_CLOSE_COMPLETE:g.EVENT_OFFCANVASNAV_TRANSITION_CLOSE_COMPLETE,EVENT_OFFCANVASNAV_TRANSITION_OPEN_COMPLETE:g.EVENT_OFFCANVASNAV_TRANSITION_OPEN_COMPLETE}},d=c("html body"),void 0!==d.attr("data-offcanvas-nav")?(e={},void 0!==d.attr("data-offcanvas-nav-xMax")&&(e.xMax=parseInt(d.attr("data-offcanvas-nav-xMax"),10)),a.offcanvasNav=new a.OffcanvasNav(e)):void 0}(window,document,$)}.call(this),function(){window.appData&&"undefined"!=typeof console&&null!==console&&console.log("[APP] build:"+window.appData.build),window.app=angular.module("app",["ngSanitize","services.utils","services.log","directives.utils","directives.image","directives.html","services.navigation","app.enums","app.work","ngRoute","angularMoment"]),app.value("$anchorScroll",angular.noop),app.config(["$routeProvider","$locationProvider","$interpolateProvider","enums",function(a,b,c,d){return c.startSymbol("{[").endSymbol("]}"),window.location.hash.indexOf("#")>-1&&window.location.hash.indexOf("#!")<=-1&&(window.location.hash=window.location.hash.replace("#","#!")),a.when("/work/:project",{event:d.EventType.WorkLoad}).when("/about",{event:d.EventType.AnchorScroll}).when("/contact",{event:d.EventType.AnchorScroll}).when("/work",{event:d.EventType.AnchorScroll}).otherwise({redirectTo:"/"}),b.html5Mode(!1).hashPrefix("!")}]),app.run(["utils","enums","$rootScope","$location","$routeParams","$route","log","$timeout","navigation",function(a,b,c,d,e,f,g,h){var i,j;return angular.isDefined(c.logger)&&angular.isDefined(log4javascript)&&angular.isDefined(window)&&angular.isDefined(window.__karma__)&&c.logger.setLevel(log4javascript.Level.WARN),c.utils=a,i=null,j="",c.$on("$routeChangeSuccess",function(e){var k,l,m,n;return g.info("$routeChangeSuccess $currentRoute: "+e+" $location.path:"+d.path()+" lastRoutePath:"+j),m=d.path(),k=null!=(n=f.current)?n.event:void 0,"/"===m&&(k=b.EventType.AnchorScroll,m="/home",""===j&&(k=void 0)),k===b.EventType.AnchorScroll&&(g.info("scrolling for path: "+m),m&&(l=m.substr(1,m.length-1),l=l.split("/")[0],g.info("id "+l+" path:"+m),h.cancel(i),i=h(function(){return a.scrollAnimateTo("#"+l)},1))),c.$broadcast(b.EventType.TrackPageview,m)}),c.$on(b.EventType.TrackPageview,function(a,b){return void 0!==window.ga&&j!==b?(window.ga("send","pageview",b),j=b):void 0}),c.$on(b.EventType.TrackEvent,function(a,b,c,d,e){return g.info("caught track event category:"+b+" action:"+c+" label:"+d+" value:"+e),void 0!==window.ga?window.ga("send","event",b,c,d,e):void 0})}])}.call(this),function(){angular.module("app.enums",[]).constant("enums",{EventType:{WorkLoad:"work.load",AnchorScroll:"anchor.scroll",VideoStart:"video.start",VideoEnd:"video.end",TrackPageview:"track.pageview",TrackEvent:"track.event"}})}.call(this),function(){angular.module("app.work",["app","app.enums","services.utils","services.log","filters.accessor","filters.sanitize","directives.videoJsEmbed","directives.youtubeEmbed"]).controller("WorkCtrl",["$scope","$http","log","$route","enums","utils","$timeout","$location","$filter","$rootScope",function(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v;return c.info("work controller init."),r=new Showdown.converter,u=appData.icons.tech,v=appData.work.projects,q=appData.humans,angular.extend(a,{STATE_DETAIL:"detail",STATE_IDLE:"idle",state:"idle",workCur:void 0,curPath:""}),t=function(){return k(),s()},k=function(){var a;return a=0,angular.forEach(v,function(b){var c;return b._index=a,a++,c=b.desc,$.isArray(c)&&(c=c.join("\n")),void 0!==c&&(c=r.makeHtml(c)),b.desc=c})},a.$on("$routeChangeSuccess",function(){var b;return a.curPath!==h.path()?(a.curPath=h.path(),a.state=a.STATE_IDLE,(null!=(b=d.current)?b.event:void 0)===e.EventType.WorkLoad&&(a.state=a.STATE_DETAIL),c.info("work state:"+a.state),s()):void 0}),s=function(){var b,e,g,h;return a.workCur=void 0,c.info("render "+(null!=(b=d.current)?null!=(e=b.params)?e.project:void 0:void 0)),(null!=(g=d.current)?null!=(h=g.params)?h.project:void 0:void 0)?(a.workCur=m(d.current.params.project),c.info("$scope.projectCur: "+a.workCur+" "+d.current.params.project+" "+d.current.params.project),f.scrollAnimateTo("#work")):void 0},m=function(a){var b;return c.info("getProject"+a),b={},b=i("getById")(v,a),b.teamProcessedArr=o(b),b.techProcessedArr=p(b),b.descProcessed=l(b),b},o=function(a){var b;return b=[],angular.forEach(a.teamArr,function(a){var c,d;return d=a[0],c=a[1],angular.forEach(d,function(a,b){var c;return c=i("getById")(q.roles,a),c?d[b]=c.name:void 0}),angular.forEach(c,function(a,b){var d;return d=i("getById")(q.humans,a),d?c[b]=d.url?"<a href='"+d.url+"' target='_blank'>"+d.name+"</a>":d.name:void 0}),b.push({role:d.join(", "),humans:c.join(", ")})}),b},p=function(a){var b;return b=[],angular.forEach(a.techArr,function(a){var c;return c=i("getById")(u,a),c?b.push(c):void 0}),b},l=function(a){var b,c;return c=a.desc,$.isArray(c)&&(c=c.join("\n")),void 0!==c&&(c=r.makeHtml(c),b=$(c)),c},a.projectIncrement=function(b){var c,d;return null==b&&(b=1),c="",void 0===a.workCur?c=n(v[0].id):(d=a.workCur._index+b,d>=v.length?d-=v.length:0>d&&(d+=v.length),c=n(v[d].id)),h.path(c)},j.$on(e.EventType.VideoStart,function(b,d){var g;return c.info("VideoStart caught"+d.id),g=d.id,(d.id=a.workCur.id)?(f.scrollAnimateTo("#work"),j.$broadcast(e.EventType.TrackEvent,"video","start",a.workCur.id+" : "+g)):void 0}),j.$on(e.EventType.VideoEnd,function(b,c){var d;return d=c.id,j.$broadcast(e.EventType.TrackEvent,"video","end",a.workCur.id+" : "+d)}),n=function(a){return"/work/"+a},t()}])}.call(this);